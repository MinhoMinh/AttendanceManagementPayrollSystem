{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MinhooMinh\\\\Downloads\\\\SWP\\\\AttendanceManagementPayrollSystem\\\\ClientApp\\\\src\\\\pages\\\\EmployeeKPI.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport MonthYearSelector from \"../components/MonthYearSelector\";\nimport KpiTable from \"../components/KpiTable\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function EmployeeKPI({\n  empId\n}) {\n  _s();\n  var _kpi$components3, _kpi$Components3;\n  const [month, setMonth] = useState(new Date().getMonth() + 1);\n  const [year, setYear] = useState(new Date().getFullYear());\n  const [kpiData, setKpiData] = useState(null);\n  const [mode, setMode] = useState(\"view\"); // \"view\" | \"selfscore\"\n  const [debugOverride, setDebugOverride] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const fetchKpi = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch(`http://localhost:5038/api/kpi/${empId}?month=${month}&year=${year}`);\n      if (!res.ok) throw new Error(\"Failed to load KPI\");\n      const data = await res.json();\n      setKpiData(data);\n      determineMode(data);\n    } catch (err) {\n      console.error(err);\n      alert(\"Error loading KPI\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const determineMode = data => {\n    if (!data || debugOverride) {\n      setMode(debugOverride ? \"selfscore\" : \"view\");\n      return;\n    }\n\n    // ðŸ”¹ Support both PascalCase (Kpi) and camelCase (kpi)\n    const kpi = data.kpi || data.Kpi;\n    if (!kpi) {\n      setMode(\"view\");\n      return;\n    }\n    const now = new Date();\n    const viewedDate = new Date(kpi.periodYear || kpi.PeriodYear, (kpi.periodMonth || kpi.PeriodMonth) - 1, 1);\n    const diffDays = Math.abs((now - viewedDate) / (1000 * 60 * 60 * 24));\n\n    // within 3 days from KPI month â†’ selfscore\n    if (diffDays <= 3) setMode(\"selfscore\");else setMode(\"view\");\n  };\n  const handleSave = async () => {\n    var _kpi$components, _kpi$Components;\n    if (!kpiData) return;\n    const kpi = kpiData.kpi || kpiData.Kpi;\n    if (!kpi) return;\n    const components = ((_kpi$components = kpi.components) === null || _kpi$components === void 0 ? void 0 : _kpi$components.$values) || ((_kpi$Components = kpi.Components) === null || _kpi$Components === void 0 ? void 0 : _kpi$Components.$values) || kpi.components || kpi.Components || [];\n    try {\n      const res = await fetch(`/api/kpi/${kpi.kpiId || kpi.KpiId}/selfscore`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(components)\n      });\n      if (!res.ok) throw new Error(\"Failed to save\");\n      alert(\"Saved successfully!\");\n    } catch (err) {\n      console.error(err);\n      alert(\"Error saving self score.\");\n    }\n  };\n  const handleChange = (compId, field, value) => {\n    setKpiData(prev => {\n      var _kpi$components2, _kpi$Components2;\n      if (!prev) return prev;\n      const updated = {\n        ...prev\n      };\n      const kpi = updated.kpi || updated.Kpi;\n      const components = ((_kpi$components2 = kpi.components) === null || _kpi$components2 === void 0 ? void 0 : _kpi$components2.$values) || ((_kpi$Components2 = kpi.Components) === null || _kpi$Components2 === void 0 ? void 0 : _kpi$Components2.$values) || [];\n      const comp = components.find(c => c.kpiComponentId === compId || c.KpiComponentId === compId);\n      if (comp) {\n        const key = Object.keys(comp).find(k => k.toLowerCase() === field.toLowerCase());\n        comp[key] = value;\n      }\n      return {\n        ...updated\n      };\n    });\n  };\n  const kpi = (kpiData === null || kpiData === void 0 ? void 0 : kpiData.kpi) || (kpiData === null || kpiData === void 0 ? void 0 : kpiData.Kpi);\n  const components = (kpi === null || kpi === void 0 ? void 0 : (_kpi$components3 = kpi.components) === null || _kpi$components3 === void 0 ? void 0 : _kpi$components3.$values) || (kpi === null || kpi === void 0 ? void 0 : (_kpi$Components3 = kpi.Components) === null || _kpi$Components3 === void 0 ? void 0 : _kpi$Components3.$values) || [];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-bold\",\n      children: \"Employee KPI\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(MonthYearSelector, {\n        month: month,\n        year: year,\n        onChange: (m, y) => {\n          setMonth(m);\n          setYear(y);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fetchKpi,\n          className: \"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700\",\n          children: loading ? \"Loading...\" : \"Load KPI\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"flex items-center gap-1 text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: debugOverride,\n            onChange: e => {\n              setDebugOverride(e.target.checked);\n              determineMode(kpiData);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }, this), \"Debug override (force selfscore)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this), !kpiData ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"italic text-gray-500\",\n      children: \"No KPI loaded.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-2 border rounded shadow bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Employee:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 28\n          }, this), \" \", kpiData.name || kpiData.Name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Month:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 28\n          }, this), \" \", (kpi === null || kpi === void 0 ? void 0 : kpi.periodMonth) || (kpi === null || kpi === void 0 ? void 0 : kpi.PeriodMonth), \"/\", (kpi === null || kpi === void 0 ? void 0 : kpi.periodYear) || (kpi === null || kpi === void 0 ? void 0 : kpi.PeriodYear)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"KPI Rate:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 28\n          }, this), \" \", (kpi === null || kpi === void 0 ? void 0 : kpi.kpiRate) || (kpi === null || kpi === void 0 ? void 0 : kpi.KpiRate)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Mode:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 28\n          }, this), \" \", mode]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(KpiTable, {\n        employee: kpiData,\n        mode: mode,\n        onChange: handleChange,\n        onSave: handleSave\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 9\n  }, this);\n}\n_s(EmployeeKPI, \"acHqcF723NN3s/zNymC0HNu//xs=\");\n_c = EmployeeKPI;\nvar _c;\n$RefreshReg$(_c, \"EmployeeKPI\");","map":{"version":3,"names":["React","useEffect","useState","MonthYearSelector","KpiTable","jsxDEV","_jsxDEV","Fragment","_Fragment","EmployeeKPI","empId","_s","_kpi$components3","_kpi$Components3","month","setMonth","Date","getMonth","year","setYear","getFullYear","kpiData","setKpiData","mode","setMode","debugOverride","setDebugOverride","loading","setLoading","fetchKpi","res","fetch","ok","Error","data","json","determineMode","err","console","error","alert","kpi","Kpi","now","viewedDate","periodYear","PeriodYear","periodMonth","PeriodMonth","diffDays","Math","abs","handleSave","_kpi$components","_kpi$Components","components","$values","Components","kpiId","KpiId","method","headers","body","JSON","stringify","handleChange","compId","field","value","prev","_kpi$components2","_kpi$Components2","updated","comp","find","c","kpiComponentId","KpiComponentId","key","Object","keys","k","toLowerCase","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","m","y","onClick","type","checked","e","target","name","Name","kpiRate","KpiRate","employee","onSave","_c","$RefreshReg$"],"sources":["C:/Users/MinhooMinh/Downloads/SWP/AttendanceManagementPayrollSystem/ClientApp/src/pages/EmployeeKPI.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport MonthYearSelector from \"../components/MonthYearSelector\";\nimport KpiTable from \"../components/KpiTable\";\n\nexport default function EmployeeKPI({ empId }) {\n    const [month, setMonth] = useState(new Date().getMonth() + 1);\n    const [year, setYear] = useState(new Date().getFullYear());\n    const [kpiData, setKpiData] = useState(null);\n    const [mode, setMode] = useState(\"view\"); // \"view\" | \"selfscore\"\n    const [debugOverride, setDebugOverride] = useState(false);\n    const [loading, setLoading] = useState(false);\n\n    const fetchKpi = async () => {\n        setLoading(true);\n        try {\n            const res = await fetch(`http://localhost:5038/api/kpi/${empId}?month=${month}&year=${year}`);\n            if (!res.ok) throw new Error(\"Failed to load KPI\");\n            const data = await res.json();\n            setKpiData(data);\n            determineMode(data);\n        } catch (err) {\n            console.error(err);\n            alert(\"Error loading KPI\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const determineMode = (data) => {\n        if (!data || debugOverride) {\n            setMode(debugOverride ? \"selfscore\" : \"view\");\n            return;\n        }\n\n        // ðŸ”¹ Support both PascalCase (Kpi) and camelCase (kpi)\n        const kpi = data.kpi || data.Kpi;\n        if (!kpi) {\n            setMode(\"view\");\n            return;\n        }\n\n        const now = new Date();\n        const viewedDate = new Date(kpi.periodYear || kpi.PeriodYear, (kpi.periodMonth || kpi.PeriodMonth) - 1, 1);\n        const diffDays = Math.abs((now - viewedDate) / (1000 * 60 * 60 * 24));\n\n        // within 3 days from KPI month â†’ selfscore\n        if (diffDays <= 3) setMode(\"selfscore\");\n        else setMode(\"view\");\n    };\n\n    const handleSave = async () => {\n        if (!kpiData) return;\n\n        const kpi = kpiData.kpi || kpiData.Kpi;\n        if (!kpi) return;\n\n        const components = kpi.components?.$values || kpi.Components?.$values || kpi.components || kpi.Components || [];\n\n        try {\n            const res = await fetch(`/api/kpi/${kpi.kpiId || kpi.KpiId}/selfscore`, {\n                method: \"PUT\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify(components),\n            });\n            if (!res.ok) throw new Error(\"Failed to save\");\n            alert(\"Saved successfully!\");\n        } catch (err) {\n            console.error(err);\n            alert(\"Error saving self score.\");\n        }\n    };\n\n    const handleChange = (compId, field, value) => {\n        setKpiData((prev) => {\n            if (!prev) return prev;\n\n            const updated = { ...prev };\n            const kpi = updated.kpi || updated.Kpi;\n            const components = kpi.components?.$values || kpi.Components?.$values || [];\n\n            const comp = components.find(\n                (c) =>\n                    c.kpiComponentId === compId ||\n                    c.KpiComponentId === compId\n            );\n\n            if (comp) {\n                const key = Object.keys(comp).find(\n                    (k) => k.toLowerCase() === field.toLowerCase()\n                );\n                comp[key] = value;\n            }\n\n            return { ...updated };\n        });\n    };\n\n    const kpi = kpiData?.kpi || kpiData?.Kpi;\n    const components = kpi?.components?.$values || kpi?.Components?.$values || [];\n\n    return (\n        <div className=\"p-4 space-y-4\">\n            <h2 className=\"text-xl font-bold\">Employee KPI</h2>\n\n            {/* Controls */}\n            <div className=\"flex justify-between items-center\">\n                <MonthYearSelector\n                    month={month}\n                    year={year}\n                    onChange={(m, y) => {\n                        setMonth(m);\n                        setYear(y);\n                    }}\n                />\n\n                <div className=\"flex items-center gap-3\">\n                    <button\n                        onClick={fetchKpi}\n                        className=\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700\"\n                    >\n                        {loading ? \"Loading...\" : \"Load KPI\"}\n                    </button>\n\n                    <label className=\"flex items-center gap-1 text-sm\">\n                        <input\n                            type=\"checkbox\"\n                            checked={debugOverride}\n                            onChange={(e) => {\n                                setDebugOverride(e.target.checked);\n                                determineMode(kpiData);\n                            }}\n                        />\n                        Debug override (force selfscore)\n                    </label>\n                </div>\n            </div>\n\n            {/* KPI Display */}\n            {!kpiData ? (\n                <p className=\"italic text-gray-500\">No KPI loaded.</p>\n            ) : (\n                <>\n                    <div className=\"p-2 border rounded shadow bg-gray-50\">\n                        <p><strong>Employee:</strong> {kpiData.name || kpiData.Name}</p>\n                        <p><strong>Month:</strong> {kpi?.periodMonth || kpi?.PeriodMonth}/{kpi?.periodYear || kpi?.PeriodYear}</p>\n                        <p><strong>KPI Rate:</strong> {kpi?.kpiRate || kpi?.KpiRate}</p>\n                        <p><strong>Mode:</strong> {mode}</p>\n                    </div>\n\n                    <KpiTable\n                        employee={kpiData}\n                        mode={mode}\n                        onChange={handleChange}\n                        onSave={handleSave}\n                    />\n                </>\n            )}\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}