{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MinhooMinh\\\\Downloads\\\\SWP\\\\AttendanceManagementPayrollSystem\\\\ClientApp\\\\src\\\\pages\\\\KpiPageBase.jsx\";\nimport React from \"react\";\nimport KpiComponentTable from \"../components/KpiComponentTable\";\nimport MonthYearSelector from \"../components/MonthYearSelector\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function KpiPageBase({\n  kpiDto,\n  onPeriodChange,\n  // (month, year) => void\n  onSave,\n  // (updatedComponents) => void\n  onAddComponent // optional: () => void\n}) {\n  // If nothing yet but mode allows creation\n  if (!kpiDto) {\n    var _kpiDto$periodMonth, _kpiDto$periodYear;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: \"20px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"KPI\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MonthYearSelector, {\n        value: {\n          month: (_kpiDto$periodMonth = kpiDto === null || kpiDto === void 0 ? void 0 : kpiDto.periodMonth) !== null && _kpiDto$periodMonth !== void 0 ? _kpiDto$periodMonth : new Date().getMonth(),\n          year: (_kpiDto$periodYear = kpiDto === null || kpiDto === void 0 ? void 0 : kpiDto.periodYear) !== null && _kpiDto$periodYear !== void 0 ? _kpiDto$periodYear : new Date().getFullYear()\n        },\n        onChange: ({\n          month,\n          year\n        }) => onPeriodChange(month, year)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Kh\\xF4ng c\\xF3 d\\u1EEF li\\u1EC7u KPI cho giai \\u0111o\\u1EA1n n\\xE0y.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onAddComponent,\n        disabled: !onAddComponent,\n        style: {\n          marginTop: \"10px\",\n          padding: \"8px 14px\"\n        },\n        children: \"\\u2795 T\\u1EA1o KPI m\\u1EDBi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }, this);\n  }\n  const {\n    periodMonth,\n    periodYear,\n    components,\n    kpiMode\n  } = kpiDto;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"KPI \", periodMonth, \"/\", periodYear, \" \\u2014 Mode: \", kpiMode]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MonthYearSelector, {\n      value: {\n        month: periodMonth,\n        year: periodYear\n      },\n      onChange: ({\n        month,\n        year\n      }) => onPeriodChange(month, year)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(KpiComponentTable, {\n      components: components,\n      mode: kpiMode,\n      onChange: (id, field, value) => {\n        const updated = components.map(c => c.kpiComponentId === id ? {\n          ...c,\n          [field]: value\n        } : c);\n        onSave(updated);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), kpiMode === \"assign\" && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onAddComponent,\n      style: {\n        marginTop: \"15px\",\n        padding: \"8px 14px\"\n      },\n      children: \"\\u2795 Th\\xEAm th\\xE0nh ph\\u1EA7n KPI\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_c = KpiPageBase;\nvar _c;\n$RefreshReg$(_c, \"KpiPageBase\");","map":{"version":3,"names":["React","KpiComponentTable","MonthYearSelector","jsxDEV","_jsxDEV","KpiPageBase","kpiDto","onPeriodChange","onSave","onAddComponent","_kpiDto$periodMonth","_kpiDto$periodYear","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","value","month","periodMonth","Date","getMonth","year","periodYear","getFullYear","onChange","onClick","disabled","marginTop","components","kpiMode","mode","id","field","updated","map","c","kpiComponentId","_c","$RefreshReg$"],"sources":["C:/Users/MinhooMinh/Downloads/SWP/AttendanceManagementPayrollSystem/ClientApp/src/pages/KpiPageBase.jsx"],"sourcesContent":["import React from \"react\";\r\nimport KpiComponentTable from \"../components/KpiComponentTable\";\r\nimport MonthYearSelector from \"../components/MonthYearSelector\";\r\n\r\nexport default function KpiPageBase({\r\n  kpiDto,\r\n  onPeriodChange,  // (month, year) => void\r\n  onSave,           // (updatedComponents) => void\r\n  onAddComponent    // optional: () => void\r\n}) {\r\n  // If nothing yet but mode allows creation\r\n  if (!kpiDto) {\r\n    return (\r\n      <div style={{ padding: \"20px\" }}>\r\n        <h2>KPI</h2>\r\n            <MonthYearSelector\r\n                value={{\r\n                    month: kpiDto?.periodMonth ?? new Date().getMonth(),\r\n                    year: kpiDto?.periodYear ?? new Date().getFullYear(),\r\n                }}\r\n                onChange={({ month, year }) => onPeriodChange(month, year)}\r\n            />\r\n\r\n\r\n        <p>Không có dữ liệu KPI cho giai đoạn này.</p>\r\n\r\n        <button\r\n          onClick={onAddComponent}\r\n          disabled={!onAddComponent}\r\n          style={{ marginTop: \"10px\", padding: \"8px 14px\" }}\r\n        >\r\n          ➕ Tạo KPI mới\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const { periodMonth, periodYear, components, kpiMode } = kpiDto;\r\n\r\n  return (\r\n    <div style={{ padding: \"20px\" }}>\r\n      <h2>KPI {periodMonth}/{periodYear} — Mode: {kpiMode}</h2>\r\n\r\n      <MonthYearSelector\r\n        value={{ month: periodMonth, year: periodYear }}\r\n        onChange={({ month, year }) => onPeriodChange(month, year)}\r\n      />\r\n\r\n      <KpiComponentTable\r\n        components={components}\r\n        mode={kpiMode}\r\n        onChange={(id, field, value) => {\r\n          const updated = components.map(c =>\r\n            c.kpiComponentId === id ? { ...c, [field]: value } : c\r\n          );\r\n          onSave(updated);\r\n        }}\r\n      />\r\n\r\n      {kpiMode === \"assign\" && (\r\n        <button\r\n          onClick={onAddComponent}\r\n          style={{ marginTop: \"15px\", padding: \"8px 14px\" }}\r\n        >\r\n          ➕ Thêm thành phần KPI\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}